"
        }, 
        "attributeContractFulfillment": {<%# mapping of attribute names to their fulfillment values %>
<% @a['attr_map'].each_with_index do |val, i| -%>
          "<%= val['name'] -%>": {
            "source": {
              "type": "<%= val['type'] -%>"
            },
            "value": "<%= val['value'] -%>"
          }<%= ',' if i < (@a['attr_map'].size - 1) %>
<% end -%>
        }
      }
    ],
    "ssoOAuthMapping": {
      "attributeContractFulfillment": {
<% @a['oauth_map'].each_with_index do |val, i| -%>
          "<%= val['name'] -%>": {
            "source": {
              "type": "<%= val['type'] -%>"
            },
            "value": "<%= val['value'] -%>"
          }<%= ',' if i < (@a['oauth_map'].size - 1) %>
<% end -%>
        }
      }
   }, 
  "credentials": {
    "certs": [
      {
        "primaryVerificationCert": true, 
        "secondaryVerificationCert": false, 
        "encryptionCert": false, 
        "x509File": {
          "fileData": "<%= @a['x509_string'] -%>"
        }
      }
    ]
  }
}
