<%#           INSERT "id": "{id}", "location": "<%= adm_api_baseURL -%>/authenticationPolicyContracts/{id}" HERE -%>
<%# ----- CUT HERE ----- -%>
        }, 
        "attributeContractFulfillment": {<%# mapping of attribute names to their fulfillment values -%>
<% @saml2_idp_attr_map.each_with_index do |val, i| -%>
          "<%= val['name'] -%>": {
            "source": {
              "type": "<%= val['type'] -%>"
            },
            "value":  "<%= val['value'] -%>"
          }<%= ',' if i < (@saml2_idp_attr_map.size - 1) %>
<% end -%>
        }
      }
    ],
    "ssoOAuthMapping": {
      "attributeContractFulfillment": {
<% @saml2_idp_oauth_map.each_with_index do |val, i| -%>
          "<%= val['name'] -%>": {
            "source": {
              "type": "<%= val['type'] -%>"
            },
            "value":  "<%= val['value'] -%>"
          }<%= ',' if i < (@saml2_idp_oauth_map.size - 1) %>
<% end -%>
        }
      }
    }
  }, 
  "credentials": {
    "certs": [
      {
        "secondaryVerificationCert": false, 
        "certView": {
          "id": "i8hlbnmdsrokse4d3e6qh0ldx", 
          "status": "VALID", 
          "serialNumber": "<%= @saml2_idp_cert_serialNumer -%>", 
          "version": <%= @saml2_idp_cert_version -%>, 
          "sha1Fingerprint": "<%= @saml2_idp_cert_sha1 -%>", 
          "sha256Fingerprint": "<%= @saml2_idp_cert_sha1 -%>",
          "issuerDN": "<%= @saml2_idp_cert_issuerDN -%>",
          "expires": "<%= @saml2_idp_cert_expires -%>", <%# "2033-05-17T15:04:28.000Z" -%>
          "subjectDN": "<%= @saml2_idp_cert_subjectDN -%>",
          "keySize": <%= @saml2_idp_cert_keySize -%>, 
          "md5Fingerprint": "<%= @saml2_idp_cert_md5 -%>",
          "keyAlgorithm":  "<%= @saml2_idp_cert_keyAlg -%>",
          "validFrom": "<%= @saml2_idp_cert_validFrom -%>",
          "signatureAlgorithm": "<%= @saml2_idp_cert_sigAlg -%>"
        }, 
        "primaryVerificationCert": true, 
        "encryptionCert": false, 
        "x509File": {
          "fileData": "<%= @saml2_idp_cert_file -%>"
        }
      }
    ]
  }
}
